<!-- 
<h2>{{section.settings.masonry-grid}}</h2>
{%- for block in section.blocks -%}

{{block.settings.text}}
{{block.settings.link}}

{%- endfor -%} -->

{{ 'component-masonry.css' | asset_url | stylesheet_tag }}

<section class="page-width">
<div class="masonry-grid macy-container">
  {%- for block in section.blocks -%} 
  <div class="grid-item">
      <img loading="lazy"src="{{block.settings.image | img_url:"400x" }}">
      <h2>{{block.settings.text}}</h2>
    </div>
    {%- endfor -%}
    ...
  </div>
</section>



{% schema %}
{
    "name": "Masonry Grid",
    "settings": [
     {
         "id": "masonry-grid",
          "type":"text",
         "label": "Add masonry grid"
     }
    ],
    "presets":[
      {
        "name":"masonry-grid"

      }
    ],
    "blocks": [
      
      {
        "name": "Masonry Image",
        "type":"masonry-image",
        "settings": [
        
          {
            "type": "image_picker",
            "id": "image",
            "label":"Image"
          },

          {
          "type": "text",
          "id": "text",
          "label":"Add some text"
          },

          {
            "type": "url",
            "id": "link",
            "label": "Add a link"
          }

        ]
      }
    
    ]
}
{% endschema %}

  {% stylesheet %}
      
  {% endstylesheet %}

  {% javascript %}
      
  var macy = Macy({
    container: '.macy-container',
    trueOrder: false,
    waitForImages: false,
    margin: 124,
    columns: 3,
    breakAt: {
        1200: 5,
        940: 3,
        520: 2,
        400: 1
    }
});
  {% endjavascript %}